{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{384:function(s,a,e){\"use strict\";e.r(a);var n=e(35),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[e(\"h2\",{attrs:{id:\"介绍\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#介绍\"}},[s._v(\"#\")]),s._v(\" 介绍\")]),s._v(\" \"),e(\"h4\",{attrs:{id:\"redis\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#redis\"}},[s._v(\"#\")]),s._v(\" Redis\")]),s._v(\" \"),e(\"h2\",{attrs:{id:\"环境安装\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境安装\"}},[s._v(\"#\")]),s._v(\" 环境安装\")]),s._v(\" \"),e(\"h3\",{attrs:{id:\"centos-epel仓库安装\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#centos-epel仓库安装\"}},[s._v(\"#\")]),s._v(\" Centos EPEL仓库安装\")]),s._v(\" \"),e(\"ul\",[e(\"li\",[s._v(\"安装redis\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[s._v(\"yum \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" epel-release\\nyum update\\nyum \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" redis\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"启动\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[s._v(\"systemctl start redis\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"h3\",{attrs:{id:\"源码安装\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#源码安装\"}},[s._v(\"#\")]),s._v(\" 源码安装\")]),s._v(\" \"),e(\"ul\",[e(\"li\",[s._v(\"安装基础依赖\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[s._v(\"yum \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" gcc\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"下载安装包\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" http://download.redis.io/releases/redis-5.0.7.tar.gz\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"解压到指定目录\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"tar -zvxf redis-5.0.7.tar.gz\\nmv ./redis-5.0.7 /usr/local/redis\\ncd /usr/local/redis/\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"编译\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"div\",{staticClass:\"custom-block warning\"},[e(\"p\",{staticClass:\"custom-block-title\"},[s._v(\"WARNING\")]),s._v(\" \"),e(\"p\",[s._v(\"出现报错 zmalloc.h:50:31: fatal error: jemalloc/jemalloc.h: No such file or directory\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"MALLOC\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"libc  \\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"安装\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"安装完成\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /usr/local/bin/\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\" -all\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"配置⽂件，移动到/etc/⽬录下\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"mkdir /etc/redis\\ncp /usr/local/redis/redis.conf /etc/redis/\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\")])]),e(\"h3\",{attrs:{id:\"redis配置\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#redis配置\"}},[s._v(\"#\")]),s._v(\" Redis配置\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"vim /etc/redis.conf\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"允许远程访问\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"bind 127.0.0.1\\n修改为\\n#bind 127.0.0.1\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"开放端口\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"firewall-cmd --add-port=6379/tcp --permanent\\n#重新加载防火墙设置\\nfirewall-cmd --reload\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"设置密码\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"# requirepass foobared\\n修改为\\nrequirepass password(需要设置的密码)\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"进程在后台运行\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"daemonize no\\n修改为\\ndaemonize yes\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])]),e(\"ul\",[e(\"li\",[s._v(\"日志输出文件等信息\")])]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v('logfile \"\"\\n修改为指定的日志文件\\nlogfile \"/var/log/redis/6379.log\"\\n')])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])]),e(\"h3\",{attrs:{id:\"redis开机启动\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#redis开机启动\"}},[s._v(\"#\")]),s._v(\" Redis开机启动\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"cat > /usr/lib/systemd/system/redis.service <<-EOF\\n[Unit]\\nDescription=Redis persistent key-value database\\nAfter=network.target\\nAfter=network-online.target\\nWants=network-online.target\\n\\n[Service]\\nExecStart=/usr/local/bin/redis-server /etc/redis/redis.conf --supervised systemd\\nExecStop=/usr/local/bin/redis-cli shutdown\\nType=notify\\nUser=root\\nGroup=root\\n\\n[Install]\\nWantedBy=multi-user.target\\nEOF\\n# 使服务自动运行\\nsystemctl daemon-reload\\nsystemctl enable redis\\n# 启动服务\\nsystemctl restart redis\\nsystemctl status redis\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),e(\"br\")])])])}),[],!1,null,null,null);a.default=t.exports}}]);","extractedComments":[]}